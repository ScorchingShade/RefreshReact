(this["webpackJsonpnew-refresh"]=this["webpackJsonpnew-refresh"]||[]).push([[0],{10:function(e,t,c){e.exports={form:"NewMeetupForm_form__1Qsl3",control:"NewMeetupForm_control__xuwh5",actions:"NewMeetupForm_actions__tMvWn"}},13:function(e,t,c){e.exports={item:"MeetupItem_item__16n8F",image:"MeetupItem_image__1NY8N",content:"MeetupItem_content__3JjUt",actions:"MeetupItem_actions__i7I9f"}},15:function(e,t,c){e.exports={header:"MainNavigation_header__pcWBd",logo:"MainNavigation_logo__3mTft",active:"MainNavigation_active__oN3Ka",badge:"MainNavigation_badge__QYsXO"}},30:function(e,t,c){e.exports={main:"Layout_main__auk_r"}},33:function(e,t,c){e.exports={card:"Card_card__3_jzl"}},34:function(e,t,c){e.exports={list:"MeetupList_list__3WMaa"}},40:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var r=c(1),i=c.n(r),n=c(29),s=c.n(n),a=(c(40),c(2)),o=c(30),j=c.n(o),d=c(8),u=c(12),l=c(0),b=Object(r.createContext)({favourites:[],totalFavourites:0,addFavourite:function(e){},removeFavourite:function(e){},itemIsFavourite:function(e){}});function h(e){var t=Object(r.useState)([]),c=Object(u.a)(t,2),i=c[0],n=c[1],s={favourites:i,totalFavourites:i.length,addFavourite:function(e){n((function(t){return t.concat(e)}))},removeFavourite:function(e){n((function(t){return t.filter((function(t){return t.id!==e}))}))},itemIsFavourite:function(e){return i.some((function(t){return t.id===e}))}};return Object(l.jsx)(b.Provider,{value:s,children:e.children})}var O=b,x=c(15),m=c.n(x);var v=function(){var e=Object(r.useContext)(O);return Object(l.jsxs)("header",{className:m.a.header,children:[Object(l.jsxs)("div",{className:m.a.logo,children:[" ",Object(l.jsx)(d.b,{to:"/",children:"React Meetups"})]}),Object(l.jsx)("nav",{children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(d.b,{to:"/",children:"all meetups"})}),Object(l.jsx)("li",{children:Object(l.jsx)(d.b,{to:"/new-meetup",children:"new meetup"})}),Object(l.jsx)("li",{children:Object(l.jsxs)(d.b,{to:"/favourites",children:["favourites",Object(l.jsx)("span",{className:m.a.badge,children:e.totalFavourites})]})})]})})]})};var f=function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)(v,{}),Object(l.jsx)("main",{className:j.a.main,children:e.children})]})},p=c(35),_=c(33),g=c.n(_);var N=function(e){return Object(l.jsx)("div",{className:g.a.card,children:e.children})},F=c(13),M=c.n(F);var w=function(e){var t=Object(r.useContext)(O),c=t.itemIsFavourite(e.id),i=e.image,n=e.title,s=e.description,a=e.address;return Object(l.jsx)("li",{className:M.a.item,children:Object(l.jsxs)(N,{children:[Object(l.jsx)("div",{className:M.a.image,children:Object(l.jsx)("img",{src:i,alt:n})}),Object(l.jsxs)("div",{className:M.a.content,children:[Object(l.jsx)("h3",{children:n}),Object(l.jsx)("address",{children:a}),Object(l.jsx)("p",{children:s})]}),Object(l.jsx)("div",{className:M.a.actions,children:Object(l.jsx)("button",{onClick:function(){c?t.removeFavourite(e.id):t.addFavourite({id:e.id,title:e.title,description:e.description,image:e.image,address:e.address})},children:c?"Remove From Favourites":"Add To Favourites"})})]})})},y=c(34),I=c.n(y);var A=function(e){return Object(l.jsx)("ul",{className:I.a.list,children:e.meetups.map((function(e){return Object(l.jsx)(w,{id:e.id,image:e.image,title:e.title,address:e.address,description:e.description},e.id)}))})},S=c(14),C=c.n(S);var R=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),c=t[0],i=t[1],n=Object(r.useState)([]),s=Object(u.a)(n,2),a=s[0],o=s[1];return Object(r.useEffect)((function(){i(!0),C.a.get("https://react-refresh-33212-default-rtdb.firebaseio.com/meetups.json").then((function(e){var t=[];for(var c in e.data){console.log(c);var r=Object(p.a)({id:c},e.data[c]);console.log(r),t.push(r)}i(!1),o(t)})).catch((function(e){return alert("There seems to be some issue accessing the server! Please try again later")}))}),[]),Object(l.jsx)("div",{children:c?Object(l.jsx)("section",{children:Object(l.jsx)("p",{children:"Loading..."})}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"All Meetups"}),Object(l.jsx)(A,{meetups:a})]})})};var T=function(){var e,t=Object(r.useContext)(O);return e=0===t.totalFavourites?Object(l.jsx)("p",{children:"You got no favourites yet. Start adding some now to view them!"}):Object(l.jsx)(A,{meetups:t.favourites}),Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:"My Favourites"}),e]})},k=c(10),q=c.n(k);var J=function(e){var t=Object(r.useRef)(),c=Object(r.useRef)(),i=Object(r.useRef)(),n=Object(r.useRef)();return Object(l.jsx)(N,{children:Object(l.jsxs)("form",{className:q.a.form,onSubmit:function(r){r.preventDefault();var s=t.current.value,a=c.current.value,o=n.current.value,j={title:s,image:a,address:i.current.value,description:o};e.onAddMeetup(j)},children:[Object(l.jsxs)("div",{className:q.a.control,children:[Object(l.jsx)("label",{htmlFor:"title",children:"Meetup Title"}),Object(l.jsx)("input",{type:"text",required:!0,id:"title",ref:t})]}),Object(l.jsxs)("div",{className:q.a.control,children:[Object(l.jsx)("label",{htmlFor:"image",children:"Meetup Image"}),Object(l.jsx)("input",{type:"url",required:!0,id:"image",ref:c})]}),Object(l.jsxs)("div",{className:q.a.control,children:[Object(l.jsx)("label",{htmlFor:"address",children:"Address"}),Object(l.jsx)("input",{type:"text",required:!0,id:"address",ref:i})]}),Object(l.jsxs)("div",{className:q.a.control,children:[Object(l.jsx)("label",{htmlFor:"description",children:"Description"}),Object(l.jsx)("textarea",{rows:"5",required:!0,id:"description",ref:n})]}),Object(l.jsx)("div",{className:q.a.actions,children:Object(l.jsx)("button",{children:"Add Meetup"})})]})})};var L=function(){var e=Object(a.f)();return Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:"Add New Meetup"}),Object(l.jsx)(J,{onAddMeetup:function(t){C.a.post("https://react-refresh-33212-default-rtdb.firebaseio.com/meetups.json",JSON.stringify(t)).then((function(t){return e.replace("/")})).catch((function(e){return alert("There seems to be some issue accessing the server! Please try again later")}))}})]})};var P=function(){return Object(l.jsx)(f,{children:Object(l.jsxs)(a.c,{children:[Object(l.jsx)(a.a,{exact:!0,path:"/",children:Object(l.jsx)(R,{})}),Object(l.jsx)(a.a,{exact:!0,path:"/new-meetup",children:Object(l.jsx)(L,{})}),Object(l.jsx)(a.a,{exact:!0,path:"/favourites",children:Object(l.jsx)(T,{})})]})})};s.a.render(Object(l.jsx)(h,{children:Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(d.a,{children:Object(l.jsx)(P,{})})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.47d9edd7.chunk.js.map